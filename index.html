<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>777 Casino - Memecoin</title>
    <style>
        /* --- G≈Å√ìWNE STYLE --- */
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --gold: #fbbf24;
            --green: #22c55e;
            --red: #ef4444;
            --text: #f8fafc;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 0;
            text-align: center;
        }

        /* --- BANER --- */
        .banner-container {
            width: 100%;
            height: 250px; 
            border-bottom: 4px solid var(--gold);
            background-color: #000;
            overflow: hidden;
            position: relative;
            line-height: 0;
        }
        .banner-img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            display: block;
        }

        /* --- MUZYKA - NOWY STYL KONTROLEK W PRAWYM DOLNYM ROGU --- */
        .settings-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .settings-icon {
            background: rgba(30, 41, 59, 0.95); /* Ciemny kolor t≈Ça */
            color: var(--gold);
            border: 2px solid var(--gold);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.5);
            margin-left: auto; /* Ustawia ikonƒô po prawej stronie */
        }
        
        .settings-icon:hover {
            transform: rotate(90deg);
        }

        .settings-options {
            position: absolute;
            bottom: 60px; /* Nad ikonƒÖ */
            right: 0;
            background-color: var(--card-bg);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 10px;
            width: 150px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s, visibility 0.3s;
        }

        .settings-options.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .setting-item {
            padding: 8px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            color: var(--text);
            font-size: 0.9rem;
            transition: color 0.2s;
        }
        .setting-item:hover { color: var(--gold); }
        .setting-item i { margin-right: 5px; }


        /* --- NAG≈Å√ìWEK i LAYOUT (Bez zmian) --- */
        header {
            background: linear-gradient(90deg, #000, #1a1a1a);
            padding: 20px;
            border-bottom: 2px solid var(--gold);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            position: relative;
            margin-top: -4px;
        }

        .avatar-img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.5);
            background-color: #000;
            object-fit: cover;
        }

        .header-text { text-align: left; }
        h1 { margin: 0; color: var(--gold); font-size: 2.2rem; text-transform: uppercase; letter-spacing: 2px; }
        .subtitle { color: #aaa; font-size: 0.9rem; margin-top: 5px; }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
        }

        .wallet-box {
            background: linear-gradient(180deg, #1e293b, #0f172a);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid var(--gold);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.15);
        }
        .balance-display { font-size: 2rem; font-weight: bold; color: var(--green); margin: 10px 0; text-shadow: 0 0 10px rgba(34, 197, 94, 0.3); }

        .game-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        @media(min-width: 768px) {
            .game-section { grid-template-columns: 1fr 1fr; }
        }

        .game-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #334155;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h2 { color: var(--gold); margin-top: 0; letter-spacing: 1px; border-bottom: 1px solid #333; width: 100%; padding-bottom: 10px; margin-bottom: 15px;}

        button {
            background-color: var(--gold);
            color: #000;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 6px;
            margin: 5px;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #b45309;
        }
        button:active { transform: translateY(4px); box-shadow: none; }
        button:hover:not(:disabled) { background-color: #fbbf24; filter: brightness(1.1); }
        button:disabled { background-color: #555; color: #888; box-shadow: none; cursor: not-allowed; transform: none; }

        .input-bet {
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #334155;
            background: #0f172a;
            color: white;
            width: 100px;
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .status-msg { margin-top: 15px; font-weight: bold; min-height: 24px; font-size: 1.1rem; }
        .win { color: var(--green); text-shadow: 0 0 10px rgba(34, 197, 94, 0.5); }
        .lose { color: var(--red); }

        /* --- CSS RULETKA --- */
        .roulette-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 20px auto;
        }
        
        .wheel-css {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 8px solid #d97706;
            position: relative;
            overflow: hidden;
            background: conic-gradient(
                #ef4444 0deg 24deg, 
                #000 24deg 48deg,
                #ef4444 48deg 72deg,
                #000 72deg 96deg,
                #ef4444 96deg 120deg,
                #000 120deg 144deg,
                #ef4444 144deg 168deg,
                #000 168deg 192deg,
                #ef4444 192deg 216deg,
                #000 216deg 240deg,
                #ef4444 240deg 264deg,
                #000 264deg 288deg,
                #ef4444 288deg 312deg,
                #000 312deg 336deg,
                #22c55e 336deg 360deg
            );
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            transition: transform 3s cubic-bezier(0.1, 0.7, 0.1, 1);
        }

        .wheel-center {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 40px; height: 40px;
            background: var(--gold);
            border-radius: 50%;
            z-index: 2;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .indicator {
            position: absolute;
            top: -10px; left: 50%;
            transform: translateX(-50%);
            width: 0; height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 25px solid white;
            z-index: 5;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
        }

        /* --- VISUAL BLACKJACK CARDS --- */
        .cards-area {
            display: flex;
            justify-content: center;
            gap: 10px;
            min-height: 100px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .playing-card {
            width: 60px;
            height: 90px;
            background-color: white;
            border-radius: 8px;
            color: black;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 5px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            font-size: 1.2rem;
            position: relative;
        }
        
        .playing-card.red { color: #d00; }
        .playing-card.black { color: #000; }
        .playing-card.hidden { 
            background: repeating-linear-gradient(
                45deg,
                #b45309,
                #b45309 10px,
                #fbbf24 10px,
                #fbbf24 20px
            );
            color: transparent;
            border: 2px solid #fff;
        }

        .card-corner { line-height: 1; }
        .card-center { 
            position: absolute; 
            top: 50%; left: 50%; 
            transform: translate(-50%, -50%); 
            font-size: 2rem; 
        }
        .card-bottom { transform: rotate(180deg); line-height: 1; }

        .bj-label { font-size: 0.9rem; color: #aaa; margin-bottom: 5px; width: 100%; text-align: center; }

        footer { margin-top: 50px; padding: 20px; color: #666; font-size: 0.8rem; }
    </style>
</head>
<body>

<audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="settings-control">
    <div id="settings-options" class="settings-options">
        <div class="setting-item" onclick="toggleMusic()">
            <span id="music-status-icon">üîá</span>
            <span id="music-status-text">Wycisz Muzykƒô</span>
        </div>
    </div>
    
    <div class="settings-icon" onclick="toggleSettingsMenu()">
        ‚öôÔ∏è
    </div>
</div>

<div class="banner-container">
    <img src="banner.jpg" alt="Casino Banner" class="banner-img" onerror="this.style.display='none'; this.parentElement.innerHTML='<h2 style=\'padding-top:100px; color:#333\'>BRAK PLIKU banner.jpg</h2>'">
</div>

<header>
    <img src="avatar.jpg" alt="Pepe" class="avatar-img" onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png'">
    
    <div class="header-text">
        <h1>777 CASINO</h1>
        <div class="subtitle">Official $777 Memecoin Playground</div>
    </div>
</header>

<div class="container">
    <div class="wallet-box">
        <div>TWOJE SALDO</div>
        <div class="balance-display"><span id="balance">1000</span> $777</div>
        <button onclick="addFreeTokens()" style="background:#334155; color:#fff; border:1px solid #475569; font-size:0.8rem; box-shadow:none;">+ Dobierz ≈ªetony</button>
    </div>

    <div class="game-section">
        <div class="game-card">
            <h2>RULETKA</h2>
            <div style="margin-bottom:10px; color:#aaa;">Obstaw kolor</div>
            <input type="number" id="roulette-bet" class="input-bet" placeholder="Kwota" value="100">
            
            <div style="display:flex; gap:5px; justify-content:center; width:100%;">
                <button onclick="spinRoulette('red')" style="background:var(--red); color:white; flex:1;">RED (x2)</button>
                <button onclick="spinRoulette('black')" style="background:#111; color:white; border:1px solid #555; flex:1;">BLACK (x2)</button>
                <button onclick="spinRoulette('green')" style="background:var(--green); color:white; flex:1;">GREEN (x14)</button>
            </div>

            <div class="roulette-container">
                <div class="indicator"></div>
                <div class="wheel-css" id="wheel-css">
                    </div>
                <div class="wheel-center">üíé</div>
            </div>
            
            <div id="roulette-result" class="status-msg"></div>
        </div>

        <div class="game-card">
            <h2>BLACKJACK</h2>
            <div style="margin-bottom:10px; color:#aaa;">Wbij 21, pokonaj Pepe</div>
            <input type="number" id="bj-bet" class="input-bet" placeholder="Kwota" value="100">
            
            <div style="width:100%; text-align:center;">
                <div class="bj-label">KRUPIER</div>
                <div id="dealer-area" class="cards-area">
                    <div class="playing-card hidden"><div class="card-center">?</div></div>
                    <div class="playing-card hidden"><div class="card-center">?</div></div>
                </div>

                <div class="bj-label" style="margin-top:10px;">TY</div>
                <div id="player-area" class="cards-area">
                    <div class="playing-card hidden"><div class="card-center">?</div></div>
                    <div class="playing-card hidden"><div class="card-center">?</div></div>
                </div>
            </div>

            <div id="bj-controls" style="margin-top:20px;">
                <button onclick="startBlackjack()" style="width:150px;">ROZDAJ</button>
            </div>
            <div id="bj-actions" style="display:none; margin-top:20px;">
                <button onclick="hit()">DOBIERZ</button>
                <button onclick="stand()" style="background:var(--red); color:white;">STOP</button>
            </div>
            <div id="bj-result" class="status-msg"></div>
        </div>
    </div>
</div>

<footer>
    <p>$777 MEMECOIN CASINO - NO REAL MONEY INVOLVED<br>Created for the Community.</p>
</footer>

<script>
    // --- MUZYKA I USTAWIENIA ---
    const audio = document.getElementById('bg-music');
    const settingsMenu = document.getElementById('settings-options');
    const musicStatusIcon = document.getElementById('music-status-icon');
    const musicStatusText = document.getElementById('music-status-text');

    audio.volume = 0.4;

    // 1. Pr√≥ba automatycznego odtwarzania przy ≈Çadowaniu
    document.addEventListener('DOMContentLoaded', () => {
        audio.play().catch(e => {
            console.log("Blokada przeglƒÖdarki, muzyka czeka na interakcjƒô.");
            // Opcjonalnie: Poka≈º komunikat w interfejsie
            musicStatusIcon.innerText = 'üîá';
            musicStatusText.innerText = 'W≈ÇƒÖcz Muzykƒô';
        });
    });

    // 2. Funkcja prze≈ÇƒÖczajƒÖca menu ustawie≈Ñ
    function toggleSettingsMenu() {
        settingsMenu.classList.toggle('active');
    }

    // 3. Funkcja do w≈ÇƒÖczania/wy≈ÇƒÖczania muzyki
    function toggleMusic() {
        if (audio.paused) {
            audio.play().then(() => {
                musicStatusIcon.innerText = 'üîä';
                musicStatusText.innerText = 'Wycisz Muzykƒô';
            }).catch(e => console.error("B≈ÇƒÖd odtwarzania:", e));
        } else {
            audio.pause();
            musicStatusIcon.innerText = 'üîá';
            musicStatusText.innerText = 'W≈ÇƒÖcz Muzykƒô';
        }
    }
    
    // Ustawienie poczƒÖtkowe ikony
    audio.addEventListener('playing', () => {
        musicStatusIcon.innerText = 'üîä';
        musicStatusText.innerText = 'Wycisz Muzykƒô';
    });
    audio.addEventListener('pause', () => {
        musicStatusIcon.innerText = 'üîá';
        musicStatusText.innerText = 'W≈ÇƒÖcz Muzykƒô';
    });
    // W przeglƒÖdarkach blokujƒÖcych autoplay, muzyka jest domy≈õlnie zatrzymana
    musicStatusIcon.innerText = 'üîá';
    musicStatusText.innerText = 'W≈ÇƒÖcz Muzykƒô';


    // --- PORTFEL ---
    let balance = 1000;
    if(localStorage.getItem('777balance')) {
        balance = parseInt(localStorage.getItem('777balance'));
        document.getElementById('balance').innerText = balance;
    }
    function updateBalance(amount) {
        balance += amount;
        document.getElementById('balance').innerText = balance;
        localStorage.setItem('777balance', balance);
    }
    function addFreeTokens() {
        updateBalance(1000);
        alert("Dodano 1000 $777!");
    }

    // --- RULETKA LOGIKA ---
    let isSpinning = false;
    function spinRoulette(choice) {
        if(isSpinning) return;
        
        const bet = parseInt(document.getElementById('roulette-bet').value);
        if(isNaN(bet) || bet <= 0 || bet > balance) return alert("B≈ÇƒÖd stawki!");
        
        updateBalance(-bet);
        isSpinning = true;
        document.getElementById('roulette-result').innerText = "Krƒôcƒô...";
        
        const wheel = document.getElementById('wheel-css');
        wheel.style.transition = 'none';
        wheel.style.transform = 'rotate(0deg)';
        
        const result = Math.floor(Math.random() * 15); 
        let color = 'green';
        if(result >= 1 && result <= 7) color = 'red';
        else if(result >= 8) color = 'black';
        
        const randomSpin = 1800 + Math.floor(Math.random() * 360);
        
        setTimeout(() => {
            wheel.style.transition = 'transform 3s cubic-bezier(0.1, 0.7, 0.1, 1)';
            wheel.style.transform = `rotate(${randomSpin}deg)`;
        }, 50);

        setTimeout(() => {
            let win = 0;
            if(choice === color) {
                win = bet * (color === 'green' ? 14 : 2);
                updateBalance(win);
                document.getElementById('roulette-result').innerHTML = `<span class="win">WYGRANA: ${win} $777 (${color.toUpperCase()})</span>`;
            } else {
                document.getElementById('roulette-result').innerHTML = `<span class="lose">PRZEGRANA (${color.toUpperCase()})</span>`;
            }
            isSpinning = false;
        }, 3100);
    }

    // --- BLACKJACK LOGIKA ---
    let dealerHand = [], playerHand = [], bjBet = 0, bjGameOn = false;
    const suits = ['‚ô•', '‚ô¶', '‚ô£', '‚ô†'];
    const values = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];

    function getCard() {
        const val = values[Math.floor(Math.random() * values.length)];
        const suit = suits[Math.floor(Math.random() * suits.length)];
        return { val, suit };
    }

    function renderCard(card, isHidden = false) {
        if(isHidden) return `<div class="playing-card hidden"><div class="card-center">?</div></div>`;
        
        let colorClass = (card.suit === '‚ô•' || card.suit === '‚ô¶') ? 'red' : 'black';
        return `
            <div class="playing-card ${colorClass}">
                <div class="card-corner">${card.val}<br>${card.suit}</div>
                <div class="card-center">${card.suit}</div>
                <div class="card-corner card-bottom">${card.val}<br>${card.suit}</div>
            </div>
        `;
    }

    function drawTable(hideDealerSecond) {
        const dDiv = document.getElementById('dealer-area');
        const pDiv = document.getElementById('player-area');
        
        dDiv.innerHTML = "";
        dealerHand.forEach((c, i) => {
            dDiv.innerHTML += renderCard(c, (hideDealerSecond && i === 1));
        });

        pDiv.innerHTML = "";
        playerHand.forEach(c => {
            pDiv.innerHTML += renderCard(c);
        });
    }

    function getPoints(hand) {
        let pts = 0, aces = 0;
        hand.forEach(c => {
            if(['J','Q','K'].includes(c.val)) pts += 10;
            else if(c.val === 'A') { pts += 11; aces++; }
            else pts += parseInt(c.val);
        });
        while(pts > 21 && aces > 0) { pts -= 10; aces--; }
        return pts;
    }

    function startBlackjack() {
        const bet = parseInt(document.getElementById('bj-bet').value);
        if(isNaN(bet) || bet <= 0 || bet > balance) return alert("B≈ÇƒÖd stawki!");
        
        updateBalance(-bet);
        bjBet = bet;
        bjGameOn = true;
        
        document.getElementById('bj-result').innerText = "";
        document.getElementById('bj-controls').style.display = 'none';
        document.getElementById('bj-actions').style.display = 'block';

        dealerHand = [getCard(), getCard()];
        playerHand = [getCard(), getCard()];
        
        drawTable(true);
        
        if(getPoints(playerHand) === 21) stand();
    }

    function hit() {
        if(!bjGameOn) return;
        playerHand.push(getCard());
        drawTable(true);
        if(getPoints(playerHand) > 21) endBj("FURA! Przegra≈Çe≈õ.");
    }

    function stand() {
        if(!bjGameOn) return;
        while(getPoints(dealerHand) < 17) dealerHand.push(getCard());
        drawTable(false);
        
        const p = getPoints(playerHand);
        const d = getPoints(dealerHand);
        
        if(d > 21) endBj("Krupier ma Furƒô! WYGRYWASZ!", true);
        else if(p > d) endBj("Masz wiƒôcej! WYGRANA!", true);
        else if(p === d) endBj("REMIS (Zwrot).", false, true);
        else endBj("Krupier ma wiƒôcej. Przegra≈Çe≈õ.");
    }

    function endBj(msg, win = false, draw = false) {
        bjGameOn = false;
        const resDiv = document.getElementById('bj-result');
        resDiv.innerText = msg;
        resDiv.className = "status-msg " + (win ? "win" : (draw ? "" : "lose"));
        
        if(win) updateBalance(bjBet * 2);
        if(draw) updateBalance(bjBet);

        document.getElementById('bj-controls').style.display = 'block';
        document.getElementById('bj-actions').style.display = 'none';
    }
</script>

</body>
</html>
