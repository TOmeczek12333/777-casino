<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>777 Casino - Memecoin</title>
    <style>
        /* --- GWNE STYLE --- */
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --gold: #fbbf24;
            --green: #22c55e;
            --red: #ef4444;
            --text: #f8fafc;
            --roulette-bg: #333;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 0;
            text-align: center;
        }

        /* --- BANER --- */
        .banner-container {
            width: 100%;
            /* Usunem sztywn wysoko, 偶eby baner si skalowa */
            border-bottom: 4px solid var(--gold);
            background-color: #000;
            line-height: 0; /* Usuwa dziwne odstpy pod obrazkiem */
        }
        .banner-img {
            width: 100%;
            height: auto;
            max-height: 300px; /* Ograniczenie wysokoci na du偶ych ekranach */
            object-fit: cover; /* adnie przycina jeli proporcje s inne */
            display: block;
        }

        /* --- MUZYKA - PRZYCISK --- */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
        }
        .music-btn {
            background: rgba(0, 0, 0, 0.7);
            color: var(--gold);
            border: 2px solid var(--gold);
            border-radius: 50px;
            padding: 10px 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .music-btn:hover {
            background: var(--gold);
            color: #000;
        }

        /* --- NAGWEK --- */
        header {
            background: linear-gradient(90deg, #000, #333);
            padding: 20px;
            border-bottom: 2px solid var(--gold);
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            position: relative;
        }

        .avatar-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.5);
            background-color: #000;
        }

        .header-text { text-align: left; }
        
        @media(max-width: 500px) {
            .header-text { text-align: center; }
            header { flex-direction: column; }
            .music-control { top: 10px; right: 10px; } /* Mniejszy margines na telefonie */
            .music-btn { padding: 5px 10px; font-size: 0.8rem; }
        }

        h1 { margin: 0; color: var(--gold); font-size: 2.2rem; text-transform: uppercase; letter-spacing: 2px; line-height: 1.1; }
        .subtitle { color: #aaa; font-size: 0.9rem; margin-top: 5px; }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }

        /* --- PORTFEL I KARTY --- */
        .wallet-box {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid var(--gold);
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.2);
        }
        .balance-display { font-size: 1.8rem; font-weight: bold; color: var(--green); }

        .game-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        @media(min-width: 600px) {
            .game-section { grid-template-columns: 1fr 1fr; }
        }

        .game-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #334155;
        }

        h2 { color: var(--gold); margin-top: 0; }
        
        button {
            background-color: var(--gold);
            color: #000;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            margin: 5px;
            transition: transform 0.1s;
        }

        button:hover:not(:disabled) { transform: scale(1.05); background-color: #f59e0b; }
        button:disabled { background-color: #555; cursor: not-allowed; }

        .input-bet {
            padding: 10px;
            border-radius: 5px;
            border: none;
            width: 80px;
            text-align: center;
            margin-bottom: 10px;
        }

        .status-msg { margin-top: 10px; font-weight: bold; min-height: 24px; }
        .win { color: var(--green); }
        .lose { color: var(--red); }

        /* --- BLACKJACK --- */
        #bj-board { font-size: 1.2rem; margin: 15px 0; letter-spacing: 2px; background: #111; padding: 10px; border-radius: 5px; }
        
        /* --- RULETKA ANIMACJA --- */
        .roulette-display {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 15px auto;
            border-radius: 50%;
            background-color: var(--roulette-bg);
            border: 3px solid var(--gold);
            overflow: hidden;
        }
        .roulette-wheel {
            width: 100%;
            height: 100%;
            background-image: url('roulette_wheel.png');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
        }
        .roulette-result-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px black;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            background: rgba(0,0,0,0.5); /* Lekkie przyciemnienie przy wyniku */
        }
        .roulette-result-overlay.show { opacity: 1; }
        .roulette-indicator {
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 20px solid var(--gold);
            z-index: 10;
        }
        .roulette-button.red { background-color: var(--red); }
        .roulette-button.black { background-color: #000; border: 1px solid white; }
        .roulette-button.green { background-color: var(--green); }


        footer { margin-top: 50px; padding: 20px; color: #666; font-size: 0.8rem; }
    </style>
</head>
<body style="background-color: var(--bg-color); color: var(--text);">

<audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
    Twoja przegldarka nie obsuguje audio.
</audio>

<div class="music-control">
    <button id="music-btn" class="music-btn" onclick="toggleMusic()"> Wcz Muzyk</button>
</div>

<div class="banner-container">
    <img src="banner.jpg" alt="777 Casino Banner" class="banner-img" onerror="this.style.display='none'; this.parentElement.style.height='50px'; this.parentElement.style.backgroundColor='#1a1a1a';">
</div>

<header>
    <img src="avatar.jpg" alt="Logo" class="avatar-img" onerror="this.style.display='none';">
    
    <div class="header-text">
        <h1>777 CASINO</h1>
        <div class="subtitle">Official $777 Memecoin Playground</div>
    </div>
</header>

<div class="container">
    <div class="wallet-box">
        <div>TWOJE SALDO</div>
        <div class="balance-display"><span id="balance">1000</span> $777</div>
        <button onclick="addFreeTokens()" style="font-size:0.8rem; background:#333; color:#fff; margin-top:10px;">Dobierz darmowe 偶etony</button>
    </div>

    <div class="game-section">
        <div class="game-card">
            <h2>RULETKA</h2>
            <p>Obstawiaj kolor (x2)</p>
            <input type="number" id="roulette-bet" class="input-bet" placeholder="Stawka" value="100">
            <br>
            <button class="roulette-button red" onclick="spinRoulette('red')">CZERWONE</button>
            <button class="roulette-button black" onclick="spinRoulette('black')">CZARNE</button>
            <button class="roulette-button green" onclick="spinRoulette('green')">ZIELONE (x14)</button>
            
            <div class="roulette-display">
                <div class="roulette-indicator"></div>
                <div class="roulette-wheel" id="roulette-wheel"></div>
                <div class="roulette-result-overlay" id="roulette-result-overlay"></div>
            </div>
            <div id="roulette-status" class="status-msg"></div>
        </div>

        <div class="game-card">
            <h2>BLACKJACK</h2>
            <p>Zdobd藕 21</p>
            <input type="number" id="bj-bet" class="input-bet" placeholder="Stawka" value="100">
            <div id="bj-board">
                <div>Krupier: <span id="dealer-cards">?</span></div>
                <div>Ty: <span id="player-cards">?</span></div>
            </div>
            <div id="bj-controls">
                <button onclick="startBlackjack()">GRAJ</button>
            </div>
            <div id="bj-actions" style="display:none;">
                <button onclick="hit()">DOBIERZ</button>
                <button onclick="stand()">STOP</button>
            </div>
            <div id="bj-result" class="status-msg"></div>
        </div>
    </div>
</div>

<footer>
    <p>Symulator dla spoecznoci 777. Brak prawdziwego hazardu.</p>
</footer>

<script>
    // --- OBSUGA MUZYKI ---
    const audio = document.getElementById('bg-music');
    const musicBtn = document.getElementById('music-btn');
    audio.volume = 0.3; // Ustaw gono na 30%

    function toggleMusic() {
        if (audio.paused) {
            audio.play().then(() => {
                musicBtn.innerHTML = " Wycz Muzyk";
                musicBtn.style.borderColor = "var(--green)";
            }).catch(e => console.log("Blokada przegldarki:", e));
        } else {
            audio.pause();
            musicBtn.innerHTML = " Wcz Muzyk";
            musicBtn.style.borderColor = "var(--gold)";
        }
    }

    // Pr贸ba odpalenia muzyki przy pierwszym klikniciu gdziekolwiek na stronie
    document.body.addEventListener('click', function() {
        if(audio.paused) {
            // Opcjonalnie: odkomentuj lini ni偶ej, jeli chcesz auto-play po klikniciu
            // toggleMusic();
        }
    }, { once: true });


    // --- LOGIKA GRY (BEZ ZMIAN) ---
    let balance = 1000;

    function updateBalance(amount) {
        balance += amount;
        document.getElementById('balance').innerText = balance;
        localStorage.setItem('777balance', balance);
    }

    function addFreeTokens() {
        updateBalance(500);
        alert("Dodano 500 darmowych token贸w!");
    }

    if(localStorage.getItem('777balance')) {
        balance = parseInt(localStorage.getItem('777balance'));
        document.getElementById('balance').innerText = balance;
    }

    // RULETKA
    let rouletteSpinning = false;
    const rouletteWheel = document.getElementById('roulette-wheel');
    const rouletteResultOverlay = document.getElementById('roulette-result-overlay');
    const rouletteStatus = document.getElementById('roulette-status');
    const rouletteButtons = document.querySelectorAll('.roulette-button');

    function enableRouletteButtons(enable) {
        rouletteButtons.forEach(button => button.disabled = !enable);
        document.getElementById('roulette-bet').disabled = !enable;
    }

    function spinRoulette(choice) {
        if (rouletteSpinning) return;

        const betInput = document.getElementById('roulette-bet');
        const bet = parseInt(betInput.value);

        if (isNaN(bet) || bet <= 0) { alert("Podaj stawk!"); return; }
        if (bet > balance) { alert("Brak rodk贸w!"); return; }

        updateBalance(-bet);
        rouletteSpinning = true;
        enableRouletteButtons(false);
        rouletteStatus.className = 'status-msg';
        rouletteStatus.innerText = "Losowanie...";
        rouletteResultOverlay.classList.remove('show');

        // Losowanie wyniku (0=green, 1-7=red, 8-14=black)
        const resultNumber = Math.floor(Math.random() * 15);
        let color = 'green';
        if (resultNumber >= 1 && resultNumber <= 7) color = 'red';
        else if (resultNumber >= 8) color = 'black';

        // Animacja
        const minRotations = 5;
        const randomRotation = Math.random() * 360; 
        const totalRotation = (minRotations * 360) + randomRotation;

        rouletteWheel.style.transition = 'transform 3s cubic-bezier(0.25, 0.1, 0.25, 1)';
        rouletteWheel.style.transform = `rotate(${totalRotation}deg)`;

        setTimeout(() => {
            let winAmount = 0;
            if (choice === color) {
                winAmount = bet * (color === 'green' ? 14 : 2);
                updateBalance(winAmount);
                rouletteStatus.innerText = `Wygrae ${winAmount}!`;
                rouletteStatus.classList.add('win');
            } else {
                rouletteStatus.innerText = `Przegrae.`;
                rouletteStatus.classList.add('lose');
            }

            rouletteResultOverlay.innerText = color.toUpperCase();
            rouletteResultOverlay.style.color = color === 'red' ? '#ffcccc' : (color === 'green' ? '#ccffcc' : 'white');
            rouletteResultOverlay.classList.add('show');

            rouletteSpinning = false;
            enableRouletteButtons(true);

            setTimeout(() => {
                rouletteWheel.style.transition = 'none';
                rouletteWheel.style.transform = `rotate(${randomRotation % 360}deg)`;
            }, 500);
        }, 3000);
    }

    // BLACKJACK
    let dealerCards = [], playerCards = [], bjBet = 0, gameActive = false;
    const cards = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];

    function getRandomCard() { return cards[Math.floor(Math.random() * cards.length)]; }
    
    function getScore(hand) {
        let score = 0, aces = 0;
        for (let card of hand) {
            if (['J','Q','K'].includes(card)) score += 10;
            else if (card === 'A') { score += 11; aces++; }
            else score += parseInt(card);
        }
        while (score > 21 && aces > 0) { score -= 10; aces--; }
        return score;
    }

    function startBlackjack() {
        const betInput = document.getElementById('bj-bet');
        bjBet = parseInt(betInput.value);
        if (isNaN(bjBet) || bjBet <= 0) return alert("Podaj stawk!");
        if (bjBet > balance) return alert("Brak rodk贸w!");

        updateBalance(-bjBet);
        gameActive = true;
        dealerCards = [getRandomCard(), getRandomCard()];
        playerCards = [getRandomCard(), getRandomCard()];

        document.getElementById('bj-controls').style.display = 'none';
        document.getElementById('bj-actions').style.display = 'block';
        document.getElementById('bj-result').innerText = "";
        
        drawBoard(true);
        if (getScore(playerCards) === 21) stand();
    }

    function hit() {
        if (!gameActive) return;
        playerCards.push(getRandomCard());
        drawBoard(true);
        if (getScore(playerCards) > 21) endGame("Fura (Przegrae)!");
    }

    function stand() {
        if (!gameActive) return;
        while (getScore(dealerCards) < 17) dealerCards.push(getRandomCard());
        drawBoard(false);
        determineWinner();
    }

    function drawBoard(hideDealer) {
        let dCards = [...dealerCards];
        if (hideDealer && gameActive) dCards[1] = "X";
        document.getElementById('dealer-cards').innerText = dCards.join(" ");
        document.getElementById('player-cards').innerText = playerCards.join(" ");
    }

    function determineWinner() {
        const p = getScore(playerCards), d = getScore(dealerCards);
        if (d > 21) endGame("Krupier ma fur! Wygrywasz.");
        else if (p > d) endGame("Wygrae!");
        else if (p === d) endGame("Remis.");
        else endGame("Przegrae.");
    }

    function endGame(msg) {
        gameActive = false;
        document.getElementById('bj-result').innerText = msg;
        if (msg.includes("Wygra") || msg.includes("Wygrywasz")) {
            updateBalance(bjBet * 2);
            document.getElementById('bj-result').classList.add('win');
        } else if (msg.includes("Remis")) updateBalance(bjBet);
        else document.getElementById('bj-result').classList.add('lose');
        
        document.getElementById('bj-controls').style.display = 'block';
        document.getElementById('bj-actions').style.display = 'none';
        drawBoard(false);
    }
</script>

</body>
</html>
